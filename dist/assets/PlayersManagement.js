var A=Object.defineProperty,k=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var N=(a,t,r)=>t in a?A(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,j=(a,t)=>{for(var r in t||(t={}))F.call(t,r)&&N(a,r,t[r]);if(D)for(var r of D(t))S.call(t,r)&&N(a,r,t[r]);return a},y=(a,t)=>k(a,I(t));import{j as e,X as M,y as V,f as W,z as Y,k as P,B as E,H as L}from"./ui-vendor.js";import{r as f,d as T}from"./react-vendor.js";import{L as n,I as d,B as p}from"./label.js";import{g as z,a as R}from"./teamsData.js";import{t as b}from"./index.js";import{C as U,a as X,b as $}from"./card.js";const J=({player:a,onSave:t,onCancel:r})=>{const[i,u]=f.useState(j({},a)),w=z(),l=o=>{const{name:m,value:c}=o.target;["number","height","weight","matches","goals","assists","yellowCards","redCards"].includes(m)?u(y(j({},i),{[m]:parseInt(c,10)||0})):u(y(j({},i),{[m]:c}))},g=o=>{o.preventDefault(),t(i)};return e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"ФИО игрока"}),e.jsx(d,{id:"name",name:"name",value:i.name,onChange:l,required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"position",children:"Позиция"}),e.jsxs("select",{id:"position",name:"position",value:i.position,onChange:l,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[e.jsx("option",{value:"Вратарь",children:"Вратарь"}),e.jsx("option",{value:"Защитник",children:"Защитник"}),e.jsx("option",{value:"Полузащитник",children:"Полузащитник"}),e.jsx("option",{value:"Нападающий",children:"Нападающий"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"number",children:"Номер"}),e.jsx(d,{id:"number",name:"number",type:"number",value:i.number,onChange:l,min:"1",max:"99",required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"nationality",children:"Национальность"}),e.jsx(d,{id:"nationality",name:"nationality",value:i.nationality,onChange:l,required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"birthDate",children:"Дата рождения"}),e.jsx(d,{id:"birthDate",name:"birthDate",value:i.birthDate,onChange:l,placeholder:"ДД.ММ.ГГГГ",required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"teamId",children:"Команда"}),e.jsx("select",{id:"teamId",name:"teamId",value:i.teamId,onChange:l,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:w.map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"image",children:"URL фото"}),e.jsx(d,{id:"image",name:"image",value:i.image,onChange:l,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"height",children:"Рост (см)"}),e.jsx(d,{id:"height",name:"height",type:"number",value:i.height,onChange:l,min:"150",max:"220",required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"weight",children:"Вес (кг)"}),e.jsx(d,{id:"weight",name:"weight",type:"number",value:i.weight,onChange:l,min:"50",max:"120",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"matches",children:"Матчи"}),e.jsx(d,{id:"matches",name:"matches",type:"number",value:i.matches,onChange:l,min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"goals",children:"Голы"}),e.jsx(d,{id:"goals",name:"goals",type:"number",value:i.goals,onChange:l,min:"0",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"assists",children:"Передачи"}),e.jsx(d,{id:"assists",name:"assists",type:"number",value:i.assists,onChange:l,min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"yellowCards",children:"Жёлтые карточки"}),e.jsx(d,{id:"yellowCards",name:"yellowCards",type:"number",value:i.yellowCards,onChange:l,min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"redCards",children:"Красные карточки"}),e.jsx(d,{id:"redCards",name:"redCards",type:"number",value:i.redCards,onChange:l,min:"0",required:!0})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[e.jsxs(p,{variant:"outline",type:"button",onClick:r,children:[e.jsx(M,{className:"mr-2 h-4 w-4"})," Отмена"]}),e.jsxs(p,{type:"submit",className:"bg-fc-green hover:bg-fc-darkGreen",children:[e.jsx(V,{className:"mr-2 h-4 w-4"})," Сохранить"]})]})]})};let x=[{id:"1",name:"Александр Иванов",position:"Вратарь",number:1,birthDate:"15.05.1992",height:192,weight:87,nationality:"Россия",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:24,goals:0,assists:1,yellowCards:1,redCards:0,teamId:"gudauta"},{id:"2",name:"Дмитрий Петров",position:"Защитник",number:4,birthDate:"23.09.1994",height:186,weight:82,nationality:"Россия",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:22,goals:2,assists:3,yellowCards:4,redCards:0,teamId:"gudauta"},{id:"3",name:"Артем Смирнов",position:"Защитник",number:6,birthDate:"07.12.1995",height:184,weight:78,nationality:"Россия",image:"https://images.unsplash.com/photo-1539614474467-f8a89c5aa8f0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",matches:26,goals:0,assists:1,yellowCards:5,redCards:1,teamId:"gudauta"},{id:"4",name:"Игорь Соколов",position:"Полузащитник",number:8,birthDate:"18.03.1993",height:177,weight:72,nationality:"Россия",image:"https://images.unsplash.com/photo-1534126416832-a88fdf2911c2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",matches:28,goals:5,assists:7,yellowCards:3,redCards:0,teamId:"gudauta"},{id:"5",name:"Сергей Козлов",position:"Полузащитник",number:10,birthDate:"05.07.1996",height:179,weight:74,nationality:"Россия",image:"https://images.unsplash.com/photo-1522529599102-193c0d76b5b6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",matches:25,goals:8,assists:10,yellowCards:2,redCards:0,teamId:"gudauta"},{id:"6",name:"Андрей Попов",position:"Нападающий",number:9,birthDate:"12.02.1994",height:183,weight:78,nationality:"Россия",image:"https://images.unsplash.com/photo-1584634731339-252e5223ee7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1976&q=80",matches:27,goals:15,assists:5,yellowCards:2,redCards:0,teamId:"gudauta"},{id:"7",name:"Виталий Новиков",position:"Вратарь",number:1,birthDate:"23.10.2001",height:188,weight:80,nationality:"Россия",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:18,goals:0,assists:0,yellowCards:0,redCards:0,teamId:"gudauta-school"},{id:"8",name:"Евгений Морозов",position:"Защитник",number:5,birthDate:"14.05.2002",height:182,weight:75,nationality:"Россия",image:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:20,goals:1,assists:0,yellowCards:3,redCards:0,teamId:"gudauta-school"},{id:"9",name:"Денис Волков",position:"Полузащитник",number:7,birthDate:"05.09.2003",height:175,weight:68,nationality:"Россия",image:"https://images.unsplash.com/photo-1618641986557-1ecd230959aa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:22,goals:4,assists:6,yellowCards:2,redCards:0,teamId:"gudauta-school"},{id:"10",name:"Кирилл Зайцев",position:"Нападающий",number:11,birthDate:"28.03.2002",height:180,weight:73,nationality:"Россия",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:21,goals:9,assists:3,yellowCards:1,redCards:0,teamId:"gudauta-school"}];const K=a=>x.filter(t=>t.teamId===a),O=a=>{x=x.map(t=>t.id===a.id?a:t)},Q=a=>{x=x.filter(t=>t.id!==a)},Z=a=>{if(x.some(t=>t.id===a.id))throw new Error("Player with this ID already exists");x.push(a)},le=()=>{const[a]=T(),t=a.get("team")||"gudauta",[r,i]=f.useState([]),[u,w]=f.useState(""),[l,g]=f.useState(!1),[o,m]=f.useState(null),c=R(t);f.useEffect(()=>{const s=K(t);i(s)},[t]);const v=r.filter(s=>s.name.toLowerCase().includes(u.toLowerCase())||s.position.toLowerCase().includes(u.toLowerCase())),H=s=>{m(s),g(!0)},B=s=>{if(window.confirm("Вы уверены, что хотите удалить этого игрока?"))try{Q(s),i(r.filter(h=>h.id!==s)),b({title:"Игрок удален",description:"Игрок был успешно удален из системы"})}catch(h){b({variant:"destructive",title:"Ошибка",description:"Не удалось удалить игрока"})}},q=()=>{const s={id:`player-${Date.now()}`,name:"",position:"Нападающий",number:r.length+1,birthDate:"",height:180,weight:75,nationality:"Россия",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:0,goals:0,assists:0,yellowCards:0,redCards:0,teamId:t};m(s),g(!0)},G=s=>{try{r.some(h=>h.id===s.id)?(O(s),i(r.map(h=>h.id===s.id?s:h)),b({title:"Игрок обновлен",description:"Информация об игроке успешно обновлена"})):(Z(s),i([...r,s]),b({title:"Игрок добавлен",description:"Новый игрок успешно добавлен в систему"})),g(!1),m(null)}catch(h){b({variant:"destructive",title:"Ошибка",description:"Не удалось сохранить изменения"})}},C=()=>{g(!1),m(null)};return e.jsxs("div",{children:[e.jsx(U,{className:"mb-8 bg-gradient-to-br from-white to-gray-50",children:e.jsxs(X,{className:"flex flex-row items-center justify-between",children:[e.jsx($,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:(c==null?void 0:c.primaryColor)||"#2e7d32"},children:e.jsx(W,{className:"h-4 w-4 text-white"})}),e.jsxs("span",{children:["Управление игроками: ",(c==null?void 0:c.name)||"Команда"]})]})}),e.jsxs(p,{onClick:q,className:"bg-fc-green hover:bg-fc-darkGreen",children:[e.jsx(Y,{className:"mr-2 h-4 w-4"})," Добавить игрока"]})]})}),l&&o?e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:o.id.includes("player-")&&!r.some(s=>s.id===o.id)?"Добавить нового игрока":"Редактировать игрока"}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(p,{variant:"outline",size:"sm",onClick:C,children:[e.jsx(M,{className:"mr-2 h-4 w-4"})," Отмена"]})})]}),e.jsx(J,{player:o,onSave:G,onCancel:C})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(d,{className:"pl-10",placeholder:"Поиск игроков по имени или позиции...",value:u,onChange:s=>w(s.target.value)})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"№"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Игрок"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Позиция"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Характеристики"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Статистика"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Действия"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[v.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white font-medium text-sm",style:{backgroundColor:(c==null?void 0:c.primaryColor)||"#2e7d32"},children:s.number})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:s.image,alt:s.name})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.nationality})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:s.position})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.height," см, ",s.weight," кг"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"px-2 py-1 text-xs rounded bg-gray-100 text-gray-800",children:[s.matches," матчей"]}),e.jsxs("span",{className:"px-2 py-1 text-xs rounded bg-green-100 text-green-800",children:[s.goals," голов"]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>H(s),className:"text-gray-600 hover:text-gray-900 mr-2",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>B(s.id),className:"text-red-600 hover:text-red-900",children:e.jsx(L,{className:"h-4 w-4"})})]})]},s.id)),v.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"Игроки не найдены. Добавьте первого игрока!"})})]})]})})]})]})};export{le as default};
