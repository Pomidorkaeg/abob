var G=Object.defineProperty,I=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var D=(i,a,t)=>a in i?G(i,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[a]=t,j=(i,a)=>{for(var t in a||(a={}))S.call(a,t)&&D(i,t,a[t]);if(N)for(var t of N(a))k.call(a,t)&&D(i,t,a[t]);return i},v=(i,a)=>I(i,q(a));import{j as e,X as F,y as T,J as Y,z as E,k as L,e as V,K as W,B as P,H as z}from"./ui-vendor.js";import{r as u,d as R}from"./react-vendor.js";import{L as m,I as g,B as b}from"./label.js";import{T as J}from"./textarea.js";import{g as K,a as U}from"./teamsData.js";import{t as p}from"./index.js";import{C as X,a as $,b as O}from"./card.js";const Q=({coach:i,onSave:a,onCancel:t})=>{const[r,h]=u.useState(j({},i)),w=K(),n=l=>{const{name:d,value:o}=l.target;["experience"].includes(d)?h(v(j({},r),{[d]:parseInt(o,10)||0})):h(v(j({},r),{[d]:o}))},f=l=>{l.preventDefault(),a(r)};return e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name",children:"ФИО тренера"}),e.jsx(g,{id:"name",name:"name",value:r.name,onChange:n,required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"role",children:"Должность"}),e.jsx(g,{id:"role",name:"role",value:r.role,onChange:n,required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"since",children:"В клубе с"}),e.jsx(g,{id:"since",name:"since",value:r.since,onChange:n,placeholder:"Год",required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"experience",children:"Опыт работы (лет)"}),e.jsx(g,{id:"experience",name:"experience",type:"number",value:r.experience,onChange:n,min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"teamId",children:"Команда"}),e.jsx("select",{id:"teamId",name:"teamId",value:r.teamId,onChange:n,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:w.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"image",children:"URL фото"}),e.jsx(g,{id:"image",name:"image",value:r.image,onChange:n,required:!0})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"biography",children:"Биография"}),e.jsx(J,{id:"biography",name:"biography",value:r.biography,onChange:n,rows:7,required:!0})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[e.jsxs(b,{variant:"outline",type:"button",onClick:t,children:[e.jsx(F,{className:"mr-2 h-4 w-4"})," Отмена"]}),e.jsxs(b,{type:"submit",className:"bg-fc-green hover:bg-fc-darkGreen",children:[e.jsx(T,{className:"mr-2 h-4 w-4"})," Сохранить"]})]})]})};let x=[{id:"1",name:"Сергей Павлович Иванов",role:"Главный тренер",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",since:"2021",experience:15,biography:"Опытный специалист с многолетним стажем работы в профессиональных командах.",teamId:"gudauta"},{id:"2",name:"Алексей Николаевич Петров",role:"Ассистент тренера",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",since:"2022",experience:8,biography:"Специализируется на тактической подготовке и анализе игр соперников.",teamId:"gudauta"},{id:"3",name:"Дмитрий Александрович Сидоров",role:"Тренер вратарей",image:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",since:"2022",experience:10,biography:"Бывший профессиональный вратарь, посвятивший себя тренерской работе.",teamId:"gudauta"},{id:"4",name:"Игорь Владимирович Кузнецов",role:"Физиотерапевт",image:"https://images.unsplash.com/photo-1531891437562-4301cf35b7e4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1964&q=80",since:"2023",experience:7,biography:"Специалист по физической подготовке и реабилитации после травм.",teamId:"gudauta"},{id:"5",name:"Михаил Семенович Федоров",role:"Главный тренер",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",since:"2022",experience:12,biography:"Специализируется на работе с молодыми футболистами и их развитии.",teamId:"gudauta-school"},{id:"6",name:"Андрей Петрович Смирнов",role:"Тренер юношеской команды",image:"https://images.unsplash.com/photo-1534126416832-a88fdf2911c2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",since:"2022",experience:5,biography:"Молодой и перспективный тренер с современным подходом к тренировкам.",teamId:"gudauta-school"}];const Z=i=>x.filter(a=>a.teamId===i),_=i=>{x=x.map(a=>a.id===i.id?i:a)},ee=i=>{x=x.filter(a=>a.id!==i)},se=i=>{if(x.some(a=>a.id===i.id))throw new Error("Coach with this ID already exists");x.push(i)},ce=()=>{const[i]=R(),a=i.get("team")||"gudauta",[t,r]=u.useState([]),[h,w]=u.useState(""),[n,f]=u.useState(!1),[l,d]=u.useState(null),o=U(a);u.useEffect(()=>{const s=Z(a);r(s)},[a]);const y=t.filter(s=>s.name.toLowerCase().includes(h.toLowerCase())||s.role.toLowerCase().includes(h.toLowerCase())),C=s=>{d(s),f(!0)},M=s=>{if(window.confirm("Вы уверены, что хотите удалить этого тренера?"))try{ee(s),r(t.filter(c=>c.id!==s)),p({title:"Тренер удален",description:"Тренер был успешно удален из системы"})}catch(c){p({variant:"destructive",title:"Ошибка",description:"Не удалось удалить тренера"})}},H=()=>{const s={id:`coach-${Date.now()}`,name:"",role:"Тренер",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",since:new Date().getFullYear().toString(),experience:0,biography:"",teamId:a};d(s),f(!0)},B=s=>{try{t.some(c=>c.id===s.id)?(_(s),r(t.map(c=>c.id===s.id?s:c)),p({title:"Тренер обновлен",description:"Информация о тренере успешно обновлена"})):(se(s),r([...t,s]),p({title:"Тренер добавлен",description:"Новый тренер успешно добавлен в систему"})),f(!1),d(null)}catch(c){p({variant:"destructive",title:"Ошибка",description:"Не удалось сохранить изменения"})}},A=()=>{f(!1),d(null)};return e.jsxs("div",{children:[e.jsx(X,{className:"mb-8 bg-gradient-to-br from-white to-gray-50",children:e.jsxs($,{className:"flex flex-row items-center justify-between",children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:(o==null?void 0:o.primaryColor)||"#2e7d32"},children:e.jsx(Y,{className:"h-4 w-4 text-white"})}),e.jsxs("span",{children:["Управление тренерами: ",(o==null?void 0:o.name)||"Команда"]})]})}),e.jsxs(b,{onClick:H,className:"bg-fc-green hover:bg-fc-darkGreen",children:[e.jsx(E,{className:"mr-2 h-4 w-4"})," Добавить тренера"]})]})}),n&&l?e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h2",{className:"text-xl font-bold",children:l.id.includes("coach-")&&!t.some(s=>s.id===l.id)?"Добавить нового тренера":"Редактировать тренера"})}),e.jsx(Q,{coach:l,onSave:B,onCancel:A})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(g,{className:"pl-10",placeholder:"Поиск тренеров по имени или должности...",value:h,onChange:s=>w(s.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.map(s=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.jsx("div",{className:"text-xs font-medium text-white/70 mb-1",children:s.role}),e.jsx("h3",{className:"text-xl font-bold text-white",children:s.name})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(V,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{className:"text-sm",children:["С ",s.since," года"]})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-4 w-4 text-amber-500"}),e.jsxs("span",{className:"text-sm",children:[s.experience," лет опыта"]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:s.biography}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-auto",children:[e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>C(s),className:"text-blue-600 hover:text-blue-900",children:e.jsx(P,{className:"h-4 w-4"})}),e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>M(s.id),className:"text-red-600 hover:text-red-900",children:e.jsx(z,{className:"h-4 w-4"})})]})]})]},s.id)),y.length===0&&e.jsx("div",{className:"col-span-full text-center py-12 bg-gray-50 rounded-lg",children:e.jsx("div",{className:"text-gray-500",children:"Тренеры не найдены. Добавьте первого тренера!"})})]})]})]})};export{ce as default};
